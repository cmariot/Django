{% extends "base.html" %}
{% load static %}

{% block title %}Display{% endblock %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" />
{% endblock %}

{% block content %}

<h1>Available data in the 'ex03_movies' table:</h1>
{% comment %}
    for movie in data:
        for field in movie._meta.fields:
            print(f"{field.name}: {getattr(movie, field.name)}")
{% endcomment %}

{% if data %}
    <table>
        <tr>
            <th>Episode number</th>
            <th>Title</th>
            <th>Opening crawl</th>
            <th>Director</th>
            <th>Producer</th>
            <th>Release date</th>
        </tr>
        {% for movie in data %}
            <tr>
                <td>{{ movie.episode_nb }}</td>
                <td>{{ movie.title }}</td>
                <td>{{ movie.opening_crawl }}</td>
                <td>{{ movie.director }}</td>
                <td>{{ movie.producer }}</td>
                <td>{{ movie.release_date }}</td>
            </tr>
        {% endfor %}
    </table>

{% else %}
    <p>No data available</p>
{% endif %}

{% endblock %}
